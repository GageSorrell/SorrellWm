exports.id = "node_modules_electron-debug_sync_recursive-Source_Main_Core_Initialization_ts";
exports.ids = ["node_modules_electron-debug_sync_recursive-Source_Main_Core_Initialization_ts"];
exports.modules = {

/***/ "./node_modules/electron-debug sync recursive":
/*!*******************************************!*\
  !*** ./node_modules/electron-debug/ sync ***!
  \*******************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "./node_modules/electron-debug sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "./Source/Main/Core/Initialization.ts":
/*!********************************************!*\
  !*** ./Source/Main/Core/Initialization.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var electron__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! electron */ "electron");
/* harmony import */ var electron__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(electron__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Utility__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Utility */ "./Source/Main/Core/Utility.ts");
/* harmony import */ var electron_updater__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! electron-updater */ "./node_modules/electron-updater/out/main.js");
/* harmony import */ var electron_log__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! electron-log */ "./node_modules/electron-log/src/index.js");
/* harmony import */ var electron_log__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(electron_log__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! path */ "path");
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_4__);
/* File:      Initialization.ts
 * Author:    Gage Sorrell <gage@sorrell.sh>
 * Copyright: (c) 2025 Sorrell Intellectual Properties
 * License:   MIT
 */





let MainWindow = null;
if (false) {}
const IsDebug =  true || 0;
if (IsDebug) {
    /* eslint-disable-next-line @typescript-eslint/no-require-imports */
    __webpack_require__(/*! electron-debug */ "./node_modules/electron-debug/index.js")();
}
const installExtensions = async () => {
    /* eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-require-imports */
    const Installer = __webpack_require__(/*! electron-devtools-installer */ "./node_modules/electron-devtools-installer/dist/index.js");
    const ForceDownload = !!process.env.UPGRADE_EXTENSIONS;
    const Extensions = ["REACT_DEVELOPER_TOOLS"];
    return Installer
        .default(Extensions.map((Name) => Installer[Name]), ForceDownload)
        .catch(console.log);
};
const CreateWindow = async () => {
    if (IsDebug) {
        await installExtensions();
    }
    const ResourcesPath = electron__WEBPACK_IMPORTED_MODULE_0__.app.isPackaged
        ? path__WEBPACK_IMPORTED_MODULE_4___default().join(process.resourcesPath, "Resource")
        : path__WEBPACK_IMPORTED_MODULE_4___default().join(__dirname, "../../Resource");
    const getAssetPath = (...paths) => {
        return path__WEBPACK_IMPORTED_MODULE_4___default().join(ResourcesPath, ...paths);
    };
    MainWindow = new electron__WEBPACK_IMPORTED_MODULE_0__.BrowserWindow({
        height: 728,
        width: 1024,
        // frame: false,
        icon: getAssetPath("icon.png"),
        show: false,
        // transparent: true,
        webPreferences: {
            devTools: true,
            preload: electron__WEBPACK_IMPORTED_MODULE_0__.app.isPackaged
                ? path__WEBPACK_IMPORTED_MODULE_4___default().join(__dirname, "preload.js")
                : path__WEBPACK_IMPORTED_MODULE_4___default().join(__dirname, "../../.erb/dll/preload.js")
        }
    });
    MainWindow.loadURL((0,_Utility__WEBPACK_IMPORTED_MODULE_1__.ResolveHtmlPath)("index.html"));
    MainWindow.on("show", (_Event, _IsAlwaysOnTop) => {
        setTimeout(() => {
            MainWindow?.webContents.send("Navigate", "TestWindow");
        }, 2000);
    });
    MainWindow.on("ready-to-show", () => {
        if (!MainWindow) {
            throw new Error("\"MainWindow\" is not defined");
        }
        if (process.env.START_MINIMIZED) {
            MainWindow.minimize();
        }
        else {
            MainWindow.setMenuBarVisibility(false);
            MainWindow.show();
        }
    });
    MainWindow.on("closed", () => {
        MainWindow = null;
    });
    MainWindow.webContents.setWindowOpenHandler((Edata) => {
        electron__WEBPACK_IMPORTED_MODULE_0__.shell.openExternal(Edata.url);
        return { action: "deny" };
    });
    (electron_log__WEBPACK_IMPORTED_MODULE_3___default().transports).file.level = "info";
    electron_updater__WEBPACK_IMPORTED_MODULE_2__.autoUpdater.logger = (electron_log__WEBPACK_IMPORTED_MODULE_3___default());
    electron_updater__WEBPACK_IMPORTED_MODULE_2__.autoUpdater.checkForUpdatesAndNotify();
};
electron__WEBPACK_IMPORTED_MODULE_0__.app.on("window-all-closed", () => {
    if (process.platform !== "darwin") {
        electron__WEBPACK_IMPORTED_MODULE_0__.app.quit();
    }
});
electron__WEBPACK_IMPORTED_MODULE_0__.app.whenReady()
    .then(() => {
    CreateWindow();
    electron__WEBPACK_IMPORTED_MODULE_0__.app.on("activate", () => {
        if (MainWindow === null) {
            CreateWindow();
        }
    });
})
    .catch(console.log);


/***/ })

};
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2VsZWN0cm9uLWRlYnVnX3N5bmNfcmVjdXJzaXZlLVNvdXJjZV9NYWluX0NvcmVfSW5pdGlhbGl6YXRpb25fdHMuYnVuZGxlLmRldi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1JBOzs7O0dBSUc7QUFFa0Q7QUFDVDtBQUNHO0FBQ2hCO0FBQ1A7QUFFeEIsSUFBSSxVQUFVLEdBQXlCLElBQUksQ0FBQztBQUU1QyxJQUFJLEtBQXFDLEVBQ3pDLEVBSUM7QUFFRCxNQUFNLE9BQU8sR0FDWCxLQUFzQyxJQUFJLENBQWlDLENBQUM7QUFFOUUsSUFBSSxPQUFPLEVBQ1gsQ0FBQztJQUNHLG9FQUFvRTtJQUNwRSxtQkFBTyxDQUFDLDhEQUFnQixDQUFDLEVBQUUsQ0FBQztBQUNoQyxDQUFDO0FBRUQsTUFBTSxpQkFBaUIsR0FBRyxLQUFLLElBQUksRUFBRTtJQUVqQyx3R0FBd0c7SUFDeEcsTUFBTSxTQUFTLEdBQVEsbUJBQU8sQ0FBQyw2RkFBNkIsQ0FBQyxDQUFDO0lBQzlELE1BQU0sYUFBYSxHQUFZLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQixDQUFDO0lBQ2hFLE1BQU0sVUFBVSxHQUFrQixDQUFFLHVCQUF1QixDQUFFLENBQUM7SUFFOUQsT0FBTyxTQUFTO1NBQ1gsT0FBTyxDQUNKLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFZLEVBQUUsRUFBRSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUNqRCxhQUFhLENBQ2hCO1NBQ0EsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUM1QixDQUFDLENBQUM7QUFFRixNQUFNLFlBQVksR0FBRyxLQUFLLElBQUksRUFBRTtJQUU1QixJQUFJLE9BQU8sRUFDWCxDQUFDO1FBQ0csTUFBTSxpQkFBaUIsRUFBRSxDQUFDO0lB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RyxFQUFFO0lBRVAsWUFBWSxFQUFFLENBQUM7SUFDZix5Q0FBRyxDQUFDLEVBQUUsQ0FBQyxVQUFVLEVBQUUsR0FBRyxFQUFFO1FBRXBCLElBQUksVUFBVSxLQUFLLElBQUksRUFDdkIsQ0FBQztZQUNHLFlBQVksRUFBRSxDQUFDO1FBQ25CLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNQLENBQUMsQ0FBQztLQUNELEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Tb3JyZWxsV20vLi9ub2RlX21vZHVsZXMvZWxlY3Ryb24tZGVidWcvIHN5bmMiLCJ3ZWJwYWNrOi8vU29ycmVsbFdtLy4vU291cmNlL01haW4vQ29yZS9Jbml0aWFsaXphdGlvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiB3ZWJwYWNrRW1wdHlDb250ZXh0KHJlcSkge1xuXHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0dGhyb3cgZTtcbn1cbndlYnBhY2tFbXB0eUNvbnRleHQua2V5cyA9ICgpID0+IChbXSk7XG53ZWJwYWNrRW1wdHlDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrRW1wdHlDb250ZXh0O1xud2VicGFja0VtcHR5Q29udGV4dC5pZCA9IFwiLi9ub2RlX21vZHVsZXMvZWxlY3Ryb24tZGVidWcgc3luYyByZWN1cnNpdmVcIjtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0VtcHR5Q29udGV4dDsiLCIvKiBGaWxlOiAgICAgIEluaXRpYWxpemF0aW9uLnRzXG4gKiBBdXRob3I6ICAgIEdhZ2UgU29ycmVsbCA8Z2FnZUBzb3JyZWxsLnNoPlxuICogQ29weXJpZ2h0OiAoYykgMjAyNSBTb3JyZWxsIEludGVsbGVjdHVhbCBQcm9wZXJ0aWVzXG4gKiBMaWNlbnNlOiAgIE1JVFxuICovXG5cbmltcG9ydCB7IEJyb3dzZXJXaW5kb3csIGFwcCwgc2hlbGwgfSBmcm9tIFwiZWxlY3Ryb25cIjtcbmltcG9ydCB7IFJlc29sdmVIdG1sUGF0aCB9IGZyb20gXCIuL1V0aWxpdHlcIjtcbmltcG9ydCB7IGF1dG9VcGRhdGVyIH0gZnJvbSBcImVsZWN0cm9uLXVwZGF0ZXJcIjtcbmltcG9ydCBsb2cgZnJvbSBcImVsZWN0cm9uLWxvZ1wiO1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcblxubGV0IE1haW5XaW5kb3c6IEJyb3dzZXJXaW5kb3cgfCBudWxsID0gbnVsbDtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIilcbntcbiAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSwgQHR5cGVzY3JpcHQtZXNsaW50L25vLXJlcXVpcmUtaW1wb3J0cyAqL1xuICAgIGNvbnN0IFNvdXJjZU1hcFN1cHBvcnQ6IGFueSA9IHJlcXVpcmUoXCJzb3VyY2UtbWFwLXN1cHBvcnRcIik7XG4gICAgU291cmNlTWFwU3VwcG9ydC5pbnN0YWxsKCk7XG59XG5cbmNvbnN0IElzRGVidWc6IGJvb2xlYW4gPVxuICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiIHx8IHByb2Nlc3MuZW52LkRFQlVHX1BST0QgPT09IFwidHJ1ZVwiO1xuXG5pZiAoSXNEZWJ1ZylcbntcbiAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXJlcXVpcmUtaW1wb3J0cyAqL1xuICAgIHJlcXVpcmUoXCJlbGVjdHJvbi1kZWJ1Z1wiKSgpO1xufVxuXG5jb25zdCBpbnN0YWxsRXh0ZW5zaW9ucyA9IGFzeW5jICgpID0+XG57XG4gICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnksIEB0eXBlc2NyaXB0LWVzbGludC9uby1yZXF1aXJlLWltcG9ydHMgKi9cbiAgICBjb25zdCBJbnN0YWxsZXI6IGFueSA9IHJlcXVpcmUoXCJlbGVjdHJvbi1kZXZ0b29scy1pbnN0YWxsZXJcIik7XG4gICAgY29uc3QgRm9yY2VEb3dubG9hZDogYm9vbGVhbiA9ICEhcHJvY2Vzcy5lbnYuVVBHUkFERV9FWFRFTlNJT05TO1xuICAgIGNvbnN0IEV4dGVuc2lvbnM6IEFycmF5PHN0cmluZz4gPSBbIFwiUkVBQ1RfREVWRUxPUEVSX1RPT0xTXCIgXTtcblxuICAgIHJldHVybiBJbnN0YWxsZXJcbiAgICAgICAgLmRlZmF1bHQoXG4gICAgICAgICAgICBFeHRlbnNpb25zLm1hcCgoTmFtZTogc3RyaW5nKSA9PiBJbnN0YWxsZXJbTmFtZV0pLFxuICAgICAgICAgICAgRm9yY2VEb3dubG9hZFxuICAgICAgICApXG4gICAgICAgIC5jYXRjaChjb25zb2xlLmxvZyk7XG59O1xuXG5jb25zdCBDcmVhdGVXaW5kb3cgPSBhc3luYyAoKSA9Plxue1xuICAgIGlmIChJc0RlYnVnKVxuICAgIHtcbiAgICAgICAgYXdhaXQgaW5zdGFsbEV4dGVuc2lvbnMoKTtcbiAgICB9XG5cbiAgICBjb25zdCBSZXNvdXJjZXNQYXRoOiBzdHJpbmcgPSBhcHAuaXNQYWNrYWdlZFxuICAgICAgICA/IHBhdGguam9pbihwcm9jZXNzLnJlc291cmNlc1BhdGgsIFwiUmVzb3VyY2VcIilcbiAgICAgICAgOiBwYXRoLmpvaW4oX19kaXJuYW1lLCBcIi4uLy4uL1Jlc291cmNlXCIpO1xuXG4gICAgY29uc3QgZ2V0QXNzZXRQYXRoID0gKC4uLnBhdGhzOiBBcnJheTxzdHJpbmc+KTogc3RyaW5nID0+XG4gICAge1xuICAgICAgICByZXR1cm4gcGF0aC5qb2luKFJlc291cmNlc1BhdGgsIC4uLnBhdGhzKTtcbiAgICB9O1xuXG4gICAgTWFpbldpbmRvdyA9IG5ldyBCcm93c2VyV2luZG93KHtcbiAgICAgICAgaGVpZ2h0OiA3MjgsXG4gICAgICAgIHdpZHRoOiAxMDI0LFxuXG4gICAgICAgIC8vIGZyYW1lOiBmYWxzZSxcbiAgICAgICAgaWNvbjogZ2V0QXNzZXRQYXRoKFwiaWNvbi5wbmdcIiksXG4gICAgICAgIHNob3c6IGZhbHNlLFxuICAgICAgICAvLyB0cmFuc3BhcmVudDogdHJ1ZSxcbiAgICAgICAgd2ViUHJlZmVyZW5jZXM6XG4gICAgICAgIHtcbiAgICAgICAgICAgIGRldlRvb2xzOiB0cnVlLFxuICAgICAgICAgICAgcHJlbG9hZDogYXBwLmlzUGFja2FnZWRcbiAgICAgICAgICAgICAgICA/IHBhdGguam9pbihfX2Rpcm5hbWUsIFwicHJlbG9hZC5qc1wiKVxuICAgICAgICAgICAgICAgIDogcGF0aC5qb2luKF9fZGlybmFtZSwgXCIuLi8uLi8uZXJiL2RsbC9wcmVsb2FkLmpzXCIpXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIE1haW5XaW5kb3cubG9hZFVSTChSZXNvbHZlSHRtbFBhdGgoXCJpbmRleC5odG1sXCIpKTtcblxuICAgIE1haW5XaW5kb3cub24oXCJzaG93XCIsIChfRXZlbnQ6IEVsZWN0cm9uLkV2ZW50LCBfSXNBbHdheXNPblRvcDogYm9vbGVhbik6IHZvaWQgPT5cbiAgICB7XG4gICAgICAgIHNldFRpbWVvdXQoKCk6IHZvaWQgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgTWFpbldpbmRvdz8ud2ViQ29udGVudHMuc2VuZChcIk5hdmlnYXRlXCIsIFwiVGVzdFdpbmRvd1wiKTtcbiAgICAgICAgfSwgMjAwMCk7XG4gICAgfSk7XG5cbiAgICBNYWluV2luZG93Lm9uKFwicmVhZHktdG8tc2hvd1wiLCAoKSA9PlxuICAgIHtcbiAgICAgICAgaWYgKCFNYWluV2luZG93KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJcXFwiTWFpbldpbmRvd1xcXCIgaXMgbm90IGRlZmluZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52LlNUQVJUX01JTklNSVpFRClcbiAgICAgICAge1xuICAgICAgICAgICAgTWFpbldpbmRvdy5taW5pbWl6ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgTWFpbldpbmRvdy5zZXRNZW51QmFyVmlzaWJpbGl0eShmYWxzZSk7XG4gICAgICAgICAgICBNYWluV2luZG93LnNob3coKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgTWFpbldpbmRvdy5vbihcImNsb3NlZFwiLCAoKSA9PlxuICAgIHtcbiAgICAgICAgTWFpbldpbmRvdyA9IG51bGw7XG4gICAgfSk7XG5cbiAgICBNYWluV2luZG93LndlYkNvbnRlbnRzLnNldFdpbmRvd09wZW5IYW5kbGVyKChFZGF0YTogRWxlY3Ryb24uSGFuZGxlckRldGFpbHMpID0+XG4gICAge1xuICAgICAgICBzaGVsbC5vcGVuRXh0ZXJuYWwoRWRhdGEudXJsKTtcbiAgICAgICAgcmV0dXJuIHsgYWN0aW9uOiBcImRlbnlcIiB9O1xuICAgIH0pO1xuXG4gICAgbG9nLnRyYW5zcG9ydHMuZmlsZS5sZXZlbCA9IFwiaW5mb1wiO1xuICAgIGF1dG9VcGRhdGVyLmxvZ2dlciA9IGxvZztcbiAgICBhdXRvVXBkYXRlci5jaGVja0ZvclVwZGF0ZXNBbmROb3RpZnkoKTtcbn07XG5cbmFwcC5vbihcIndpbmRvdy1hbGwtY2xvc2VkXCIsICgpID0+XG57XG4gICAgaWYgKHByb2Nlc3MucGxhdGZvcm0gIT09IFwiZGFyd2luXCIpXG4gICAge1xuICAgICAgICBhcHAucXVpdCgpO1xuICAgIH1cbn0pO1xuXG5hcHAud2hlblJlYWR5KClcbiAgICAudGhlbigoKSA9PlxuICAgIHtcbiAgICAgICAgQ3JlYXRlV2luZG93KCk7XG4gICAgICAgIGFwcC5vbihcImFjdGl2YXRlXCIsICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChNYWluV2luZG93ID09PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIENyZWF0ZVdpbmRvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KVxuICAgIC5jYXRjaChjb25zb2xlLmxvZyk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=